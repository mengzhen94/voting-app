<!DOCTYPE html>
<html ng-app="mypollApp" ng-controller="eachpoll">
<head>
	<title>Voting APP</title>
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,500">
	
	<!--JQuery CDN-->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	<!-- Bootstrap CDN -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  	

	<link rel="stylesheet" type="text/css" href="/public/css/main.css">
	
	<!--Nav Bar-->
	<script type="text/javascript">
		function openURL(url){
  			window.open(url, 'Share', 'width=550, height=400, toolbar=0, scrollbars=1 ,location=0 ,statusbar=0,menubar=0, resizable=0');
		}
    	$(document).ready(function(){     		
    		$('#menu').load("/nav");
    		$('#pollid').hide();
    		$('#tweet-quote-login').on('click', function() {
      			openURL("https://twitter.com/intent/tweet?hashtags=VotingApp&amp;original_referer=https%3A%2F%2Fdev.twitter.com%2Fweb%2Ftweet-button&amp;ref_src=twsrc%5Etfw&amp;related=twitterapi%2Ctwitter&amp;text=Share%20Votes&amp;via=votingapp");
  			});
    	});
	</script>
</head>

<header id="menu"></header>

<body>
	<div class="container">
		

		<div class = "head">
			<h2 class="text-center" id="title">Title: {{title}}</h2>
			<button style="float:right; clear: both; margin-left: 2%;" class="btn btn-info">
			<a class = "button" id = "tweet-quote" title = "Tweet this quote!" target = "_blank">
				<i class = "fa fa-twitter"><span> sweet</span></i>
			</a>
			</button>
		<br/>
		</div>
		<br/>
		<br/>

		<div>
		<div style="margin: 0 auto; width: 50%; height: auto; display: inline-block; float:left;" class="container text-center">
		<table class="table table-bordered table-hover table-responsive">
            <thead class="thead-inverse">
            	<tr>
                	<th>Options</th>
                	<th>Votes</th>
            	</tr>
            </thead>
			<tbody>
            	<tr ng-repeat="option in options">             
                	<td>{{option.op}}</td>
                	<td>{{option.num}}</td>   
            	</tr>
        	</tbody>
        </table>
        </div>

        <div style="margin: 0 auto; width: 50%; height: auto; display: inline-block; " class="container text-center">
        	<canvas id="pie" class="chart chart-pie"
  				chart-data="data" chart-labels="labels" chart-options="options" chart-legend="true">
			</canvas> 
        </div>

        </div>


		<div style="clear: both; margin-left: 3%;">
			<form action="" method="post">
				<div id="pollid">
					<input type="text" name="id" value="{{id}}">
				</div>

  				<div class="form-group">
    				<label for="voteOptions">I'd like to vote for:</label>

					<div class="radio" ng-repeat="option in options">
  						<label><input type="radio" name="vote" value="{{option.op}}">{{option.op}}</label>
					</div>

  				</div>

  				<div>
  					
  				 	<button type="button" class="btn btn-info" title="This option is only available to logged in users." ng-click="showInput = !showInput">Add Option</button>
  				 	<input ng-show="showInput" class="option" type="text" name="addoption">
  				 	<h3></h3>
  				 </div>

  				<div>
  					<button type="submit" formmethod="post"  formaction="" formenctype="application/x-www-form-urlencoded" class="btn btn-primary">Submit</button>
  				</div>
			</form>
		</div><!-- /.form -->
	</div><!-- /.container -->

<script src="https://platform.twitter.com/widgets.js" async></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/chart.js/2.2.1/Chart.bundle.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/angular.chartjs/1.0.2/angular-chart.min.js"></script>
<script type="text/javascript" src="/controllers/eachpoll.client.js"></script>

</body>
</html>